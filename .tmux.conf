set-environment -g PATH "$HOME/.local/bin:$PATH"
set -ga terminal-overrides ",screen-256color*:Tc"
set-option -g default-terminal "screen-256color"
set -s escape-time 0

# Prefix
unbind C-b
set-option -g prefix C-t
bind-key C-t send-prefix

# â”€â”€ Catppuccin Macchiato Status Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set -g status-style "bg=#24273a,fg=#cad3f5"

# Left: Session name (Mauve accent)
set-option -g status-left-length 200
set-option -g status-left-style default
set-option -g status-left "#[fg=#c6a0f6,bg=#1e2030,bold] âŒ˜ #S #[default]"

# Right: CPU / Battery / Time
set-option -g status-right-length 200
set-option -g status-right-style default
set-option -g status-right "#[fg=#8bd5ca]CPU:#{cpu_percentage} #[fg=#eed49f]ðŸ”‹#{battery_percentage} #[fg=#f4dbd6]%H:%M %d-%b-%y"

# â”€â”€ Window Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set-window-option -g window-status-format "#[fg=#a5adcb,bg=#363a4f] #I:#W "
set-window-option -g window-status-current-format "#[fg=#1e2030,bg=#f4dbd6,bold] #I:#W #[default]"

# â”€â”€ Status Bar Options â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set-option -g status-position bottom
set-option -g status-interval 5
set-option -g status-justify centre

# Reload
bind r source-file ~/.tmux.conf
set -g base-index 1

# Copy mode (vim)
set-window-option -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# Pane navigation (vim brain)
bind -r ^ last-window
bind -r k select-pane -U
bind -r j select-pane -D
bind -r h select-pane -L
bind -r l select-pane -R

# Pane resizing
bind -r H resize-pane -L 5
bind -r L resize-pane -R 5
bind -r K resize-pane -U 5
bind -r J resize-pane -D 5

# Sessionizer
bind-key -r f run-shell "tmux neww ~/.local/bin/tmux-sessionizer"

bind-key -r D display-popup -E "~/.local/bin/tmux-sessionizer ~/Dev/Notes"
bind-key -r R display-popup -E "~/.local/bin/tmux-sessionizer ~/Dev/research"
bind-key -r W display-popup -E "~/.local/bin/tmux-sessionizer ~/Dev/work"
bind-key -r F display-popup -E "~/.local/bin/tmux-sessionizer ~/Dev/freelance"
bind-key -r P display-popup -E "~/.local/bin/tmux-sessionizer ~/Dev/personal"
bind-key -r S display-popup -E "~/.local/bin/tmux-sessionizer ~/Dev/technical-test"
bind-key -r T run-shell "~/.local/bin/tmux-sessionizer ~/.config/nvim"

bind-key -r a new-window -c "#{pane_current_path}" "source ~/development/backend-thing/python-proj/venv/bin/activate && exec $SHELL"

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'tmux-plugins/tmux-online-status'

run '~/.tmux/plugins/tpm/tpm'
